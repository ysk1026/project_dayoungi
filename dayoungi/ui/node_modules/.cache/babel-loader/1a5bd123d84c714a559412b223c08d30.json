{"ast":null,"code":"var _jsxFileName = \"/Users/youngseonkim/Documents/project_final/dayoungi/ui/src/components/rev/MyReviewList.jsx\";\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Title from './Title';\nimport axios from 'axios';\nimport { context as c } from '../../context';\nimport './rev.style.css';\nimport { Emoji } from '../cmm';\nconst useStyles = makeStyles(theme => ({\n  seeMore: {\n    marginTop: theme.spacing(3)\n  }\n}));\nexport default function MyReviewList() {\n  const classes = useStyles();\n  const [data, setData] = useState([]);\n  const userId = sessionStorage.getItem('sessionUser');\n  useEffect(() => {\n    axios.get(`http://localhost:8080/api/myreview/${userId}`).then(res => {\n      console.log('loaded');\n      setData(res.data);\n    }).catch(e => {\n      alert('Failed');\n      throw e;\n    });\n  }, []);\n  const fetchSomeReview = useCallback(async e => {\n    alert(\"진입\");\n    const movieTitle = document.querySelector('#movieTitle').value;\n    alert(movieTitle);\n\n    try {\n      const req = {\n        method: c.get,\n        url: `${c.url}/api/reviewsearch/${movieTitle}`,\n        // data: {params: title},\n        auth: c.auth\n      };\n      const res = await axios(req);\n      setData(res.data);\n    } catch (error) {\n      alert(`fetchSomeReviews failure ${error}`);\n    }\n  }, []);\n\n  const revid = e => {\n    const revId = e.target.getAttribute('rev-id');\n    console.log(revId);\n    localStorage.setItem(\"rev_id\", revId); // alert(revId)\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, \"My Reviews\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"movieTitle\",\n    placeholder: \"Type Movie\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: fetchSomeReview,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Search\")), /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    className: \"tbsize\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"\\uB2C9\\uB124\\uC784\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"\\uC601\\uD654\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"\\uB9AC\\uBDF0 \\uC81C\\uBAA9\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"\\uB0B4\\uC6A9\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"\\uD3C9\\uAC00\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \"\\uC218\\uC815\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, data.map((i, index) => /*#__PURE__*/React.createElement(TableRow, {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, i.fname), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, i.title_kor), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, i.title), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, i.content), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, i.label == 1 ? /*#__PURE__*/React.createElement(Emoji, {\n    symbol: \"\\u2B50\\uFE0F\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 47\n    }\n  }) : /*#__PURE__*/React.createElement(Emoji, {\n    symbol: \"\\u274C\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 70\n    }\n  })), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/edit-review\",\n    \"rev-id\": i.rev_id,\n    onClick: revid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, \"EDIT\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.seeMore,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"writereview\",\n    color: \"primary\",\n    to: \"/write-review\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, \"\\uB9AC\\uBDF0 \\uC791\\uC131\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"writereview\",\n    color: \"primary\",\n    to: \"/review-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, \"\\uC804\\uCCB4 \\uB9AC\\uBDF0 \\uBCF4\\uAE30\")));\n}","map":{"version":3,"sources":["/Users/youngseonkim/Documents/project_final/dayoungi/ui/src/components/rev/MyReviewList.jsx"],"names":["React","useEffect","useState","useCallback","Link","makeStyles","Table","TableBody","TableCell","TableHead","TableRow","Title","axios","context","c","Emoji","useStyles","theme","seeMore","marginTop","spacing","MyReviewList","classes","data","setData","userId","sessionStorage","getItem","get","then","res","console","log","catch","e","alert","fetchSomeReview","movieTitle","document","querySelector","value","req","method","url","auth","error","revid","revId","target","getAttribute","localStorage","setItem","map","i","index","fname","title_kor","title","content","label","rev_id"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useCallback} from 'react';\nimport {Link} from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Title from './Title';\nimport axios from 'axios';\nimport {context as c} from '../../context'\nimport './rev.style.css'\nimport {Emoji} from '../cmm'\n\nconst useStyles = makeStyles((theme) => ({\n  seeMore: {\n    marginTop: theme.spacing(3),\n  },\n}));\n\nexport default function MyReviewList() {\n  const classes = useStyles();\n  const [data, setData] = useState([])\n  const userId = sessionStorage.getItem('sessionUser')\n  useEffect(() => {\n    axios.get(`http://localhost:8080/api/myreview/${userId}`)\n    .then(res=> {\n      console.log('loaded')\n      setData(res.data)\n    })\n    .catch(e => {\n      alert('Failed')\n      throw(e)\n    })\n},[])\n\nconst fetchSomeReview = useCallback(async e=> {\n  alert(\"진입\")\n  const movieTitle = document.querySelector('#movieTitle').value\n  alert(movieTitle)\n  try {\n      const req = {\n          method: c.get,\n          url: `${c.url}/api/reviewsearch/${movieTitle}`,\n          // data: {params: title},\n          auth: c.auth\n\n      }\n      const res = await axios(req)\n      setData(res.data)\n  } catch (error){\n      alert(`fetchSomeReviews failure ${error}`)\n  }\n},[])\n\nconst revid = e => {\n  const revId = e.target.getAttribute('rev-id')\n  console.log(revId)\n  localStorage.setItem(\"rev_id\", revId);\n  // alert(revId)\n}\n  return (\n    <React.Fragment>\n      <Title>My Reviews</Title>\n      <div>\n      <input type=\"text\" id='movieTitle' placeholder =\"Type Movie\"/> \n            <button onClick={fetchSomeReview}>Search</button>\n            </div>      \n      <Table size=\"small\" className = \"tbsize\">\n        <TableHead>\n          <TableRow>\n            \n            <TableCell>닉네임</TableCell>\n            <TableCell>영화</TableCell>\n            <TableCell>리뷰 제목</TableCell>\n            <TableCell>내용</TableCell>\n            <TableCell>평가</TableCell>\n            <TableCell align=\"right\">수정</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {data.map((i, index) => (\n            <TableRow key={index}>\n                <TableCell>{i.fname}</TableCell>\n                <TableCell>{i.title_kor}</TableCell>\n                <TableCell>{i.title}</TableCell>\n                <TableCell>{i.content}</TableCell>\n                <TableCell>{((i.label == 1) ? <Emoji symbol=\"⭐️\"/> : <Emoji symbol=\"❌\"/>)}</TableCell>\n                <TableCell align=\"right\">\n                    <button>\n                        <Link to=\"/edit-review\" rev-id={i.rev_id} onClick={revid}>\n                            EDIT\n                        </Link>\n                    </button>\n                </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n      <div className={classes.seeMore}>\n        <Link className = \"writereview\" color=\"primary\" to=\"/write-review\">\n          리뷰 작성\n        </Link>\n        <Link className = \"writereview\" color=\"primary\" to=\"/review-list\">\n          전체 리뷰 보기\n        </Link>\n      </div>\n    </React.Fragment>\n  );\n}"]},"metadata":{},"sourceType":"module"}