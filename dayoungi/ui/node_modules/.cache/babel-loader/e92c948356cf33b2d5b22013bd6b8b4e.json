{"ast":null,"code":"var _jsxFileName = \"/Users/youngseonkim/Documents/project_final/dayoungi/ui/src/containers/usr/UserSearch.jsx\";\nimport React, { useEffect, useCallback, useState } from 'react';\nimport axios from 'axios';\nimport { User } from '../../templates';\nimport { useHistory } from \"react-router-dom\";\nimport { context as c } from '../../context';\n\nconst UserSearch = () => {\n  const history = useHistory();\n\n  const backToList = () => {\n    history.push(\"./userlist\");\n  };\n\n  const [data, setData] = useState([]);\n  const fetchOneUser = useCallback(async () => {\n    const u_id = localStorage.getItem('user_id');\n\n    try {\n      console.log(`Search Id is ${u_id}`);\n      const req = {\n        method: c.get,\n        url: `${c.url}/api/user/${u_id}`,\n        auth: c.auth\n      };\n      const res = await axios(req);\n      setData(res.data);\n    } catch (error) {\n      console.log(`Error ${error}`);\n      alert('failed');\n    }\n  }); // 혹시 안되면 ) 전에 [] 더할것\n\n  useEffect(() => {\n    fetchOneUser();\n  }, []); // useEffect(() => {\n  //     axios.get(`http://localhost:8080/api/user/${u_id}`)\n  //     .then(res=>{\n  //         console.log(typeof(res.Data))\n  //         setData(res.data) // database 안에 있는 데이터 res.data['lname'] 이런식으로 뽑을 수 있음\n  //     })\n  //     .catch( e => {alert(`Search failed`) })\n  // },[])\n\n  const search = e => {\n    const u_id = document.getElementById('search').value;\n    localStorage.setItem(\"user_id\", u_id);\n    fetchOneUser();\n  };\n\n  return /*#__PURE__*/React.createElement(User, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Search ID : \", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"search\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: backToList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Show whole List\"), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"User ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \"Age\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Gender (M or F)\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, data['user_id']), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, data['lname']), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, data['fname']), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, data['age']), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, data['gender']))));\n};\n\nexport default UserSearch;","map":{"version":3,"sources":["/Users/youngseonkim/Documents/project_final/dayoungi/ui/src/containers/usr/UserSearch.jsx"],"names":["React","useEffect","useCallback","useState","axios","User","useHistory","context","c","UserSearch","history","backToList","push","data","setData","fetchOneUser","u_id","localStorage","getItem","console","log","req","method","get","url","auth","res","error","alert","search","e","document","getElementById","value","setItem"],"mappings":"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","sourcesContent":["import React, {useEffect, useCallback, useState} from 'react'\nimport axios from 'axios'\nimport {User} from '../../templates'\nimport {useHistory } from \"react-router-dom\"\nimport { context as c } from '../../context'\nconst UserSearch = () => {\n    const history = useHistory()\n    const backToList = () => {\n        history.push(\"./userlist\")\n    }\n\n    const [data, setData] = useState([])\n    \n    const fetchOneUser = useCallback(async () => {\n        const u_id = localStorage.getItem('user_id')\n        try {\n            console.log(`Search Id is ${u_id}`) \n            const req = {\n                method: c.get,\n                url: `${c.url}/api/user/${u_id}`,\n                auth: c.auth\n            }\n            const res = await axios(req)  \n            setData(res.data)\n        } catch (error) {\n            console.log(`Error ${error}`) \n            alert('failed')\n        }\n    }) // 혹시 안되면 ) 전에 [] 더할것\n    useEffect(() => {fetchOneUser()},[])\n\n    // useEffect(() => {\n    //     axios.get(`http://localhost:8080/api/user/${u_id}`)\n    //     .then(res=>{\n    //         console.log(typeof(res.Data))\n    //         setData(res.data) // database 안에 있는 데이터 res.data['lname'] 이런식으로 뽑을 수 있음\n    //     })\n    //     .catch( e => {alert(`Search failed`) })\n    // },[])\n    \n    const search = e => {\n        const u_id = document.getElementById('search').value\n        localStorage.setItem(\"user_id\", u_id)\n        fetchOneUser()\n        \n    }\n        \n\n    return (<User>\n        Search ID : <input type=\"text\" id='search'/> \n        \n        <button onClick={search}>search</button>\n        <button onClick={backToList}>Show whole List</button>\n        <table>\n            <tr>\n                <th>User ID</th>\n                <th>First Name</th>\n                <th>Last Name</th>\n                <th>Age</th>\n                <th>Gender (M or F)</th>\n            </tr>\n            <tr>\n                <th>{data['user_id']}</th>\n                <th>{data['lname']}</th>\n                <th>{data['fname']}</th>\n                <th>{data['age']}</th>\n                <th>{data['gender']}</th>\n                \n            </tr>\n            \n        </table>\n    </User>)\n}\n\nexport default UserSearch"]},"metadata":{},"sourceType":"module"}